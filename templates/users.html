{% extends "base.html" %}

{% block title %}{{ title }}{% endblock%}

{% block content%}



{% for i in users %}

    {{ i[1] }}
    <form action="/users" method="POST">
      <input type="hidden" name="id" value="{{ i[0] }}">
      <button type="submit" class="delete-user-btn">Usuń</button>
    </form>
    <br>
    <br>
{% endfor %}


<script>
  // Fetch all "Delete" buttons
  const deleteButtons = document.querySelectorAll('.delete-user-btn');

  // Add click event handling for each "Delete" button
  deleteButtons.forEach(button => {
    button.addEventListener('click', () => {
      event.preventDefault();
      // Display a dialog box with a question
      const confirmed = confirm("Czy na pewno chcesz usunąć tego użytkownika?");

      // If the user confirms, submit the form to delete the user
      if (confirmed) {
        button.closest('form').submit();
      }
    });
  });
</script>

{% endblock %}